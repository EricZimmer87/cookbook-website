# --- DB (Clever Cloud MySQL via ENV on Render) ---
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Keep pool tiny (free tiers have low connection limits)
spring.datasource.hikari.maximum-pool-size=3
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.max-lifetime=120000

# JPA & Hibernate (prod)
spring.jpa.show-sql=false
spring.jpa.generate-ddl=false
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.open-in-view=false

# SQL init off unless you intentionally use schema.sql/data.sql
spring.sql.init.mode=never

# Mail (prod)
spring.mail.host=${MAIL_HOST:smtp.fastmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.protocol=smtp
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.from=${MAIL_FROM:cookbook-website@ejzimmer.com}

# JWT
jwt.secret=${JWT_SECRET}

# Respect proxy headers if you later put it behind one
server.forward-headers-strategy=native

# Logging (prod)
logging.level.root=INFO
logging.level.com.zaxxer.hikari=INFO
